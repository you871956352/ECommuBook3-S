<ion-view view-title="{{category.DisplayName}}"  enable-menu-with-back-views="true">
  <ion-content>

    <div ng-if="width == 1">
        <div ng-repeat="category in userProfile.Categories" ng-if="category.ID == categoryId">
            {{category.DisplayName}}
            <div style="display: inline-block;">
                <li style="float:left;" ng-repeat="item in category.Items" ng-drop="true" ng-drop-success="onDropComplete($index, $data,$event)">
                    <div ng-drag="true" ng-drag-data="obj">
                        <img width="100%" src='http://sepc155.se.cuhk.edu.hk:8080/ECommuBook2-2.0.0-SNAPSHOT/image/{{item.ID}}.jpg' />
                    </div>
                </li>
            </div>
        </div>
    </div>
      <div ng-if="width == 3">
        <div ng-repeat="category in userProfile.Categories" ng-if="category.ID == categoryId">
            {{category.DisplayName}}
            <div class="row" ng-repeat="item in category.Items" ng-if="$index % 4 === 0">
                <div class="col col-{{100/width}}" ng-if="$index < category.Items.length" ng-drag="true" ng-center-anchor="true">
                    <img width="80%" src='http://sepc155.se.cuhk.edu.hk:8080/ECommuBook2-2.0.0-SNAPSHOT/image/{{category.Items[$index+0].ID}}.jpg' />
                    <p>{{category.Items[$index+0].DisplayName}}</p>
                </div>
                <div class="col col-{{100/width}}" ng-if="$index + 1 < category.Items.length" ng-drag="true" ng-center-anchor="true">
                    <img width="80%" src='http://sepc155.se.cuhk.edu.hk:8080/ECommuBook2-2.0.0-SNAPSHOT/image/{{category.Items[$index+1].ID}}.jpg' />
                    <p>{{category.Items[$index+1].DisplayName}}</p>
                </div>
                <div class="col col-{{100/width}}" ng-if="$index + 2 < category.Items.length" ng-drag="true" ng-center-anchor="true">
                    <img width="80%" src='http://sepc155.se.cuhk.edu.hk:8080/ECommuBook2-2.0.0-SNAPSHOT/image/{{category.Items[$index+2].ID}}.jpg' />
                    <p>{{category.Items[$index+2].DisplayName}}</p>
                </div>
            </div>
        </div>
    </div>



  </ion-content>
</ion-view>
